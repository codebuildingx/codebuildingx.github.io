import{b as j,c as P,d as E,e as Z,f as X,g as z,h as S,B as U,i as D}from"./app-99aac4bf.js";import{r as g,h as G,c as $,C as _,Y as ee,_ as te,o as se,D as ae,j as e,$ as M,x as le,p as oe,i as ce}from"./framework-f86f98ae.js";const ne="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";const q=()=>e(S,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));q.displayName="CloseIcon";const w=()=>e(S,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));w.displayName="HeadingIcon";const W=()=>e(S,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));W.displayName="HeartIcon";const N=()=>e(S,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));N.displayName="HistoryIcon";const A=()=>e(S,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));A.displayName="TitleIcon";const ue={0:"分类：$content",1:"标签：$content"},re=300,L=5,ie={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},he="search-pro-history-results",f=j(he,[]),pe=()=>({history:f,addHistory:s=>{f.value.length<L?f.value=[s,...f.value]:f.value=[s,...f.value.slice(0,L-1)]},removeHistory:s=>{f.value=[...f.value.slice(0,s),...f.value.slice(s+1)]}}),ve=g(ne),de=G(()=>JSON.parse(U(ve.value))),V=(s,h)=>{const p=s.toLowerCase(),a=h.toLowerCase(),c=[];let l=0,i=0;const v=(t,d=!1)=>{let o="";i===0?o=t.length>20?`… ${t.slice(-20)}`:t:d?o=t.length+i>100?`${t.slice(0,100-i)}… `:t:o=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,o&&c.push(o),i+=o.length,d||(c.push(["strong",h]),i+=h.length,i>=100&&c.push(" …"))};let y=p.indexOf(a,l);if(y===-1)return null;for(;y>=0;){const t=y+a.length;if(v(s.slice(l,y)),l=t,i>100)break;y=p.indexOf(a,l)}return i<100&&v(s.slice(l),!0),c},x=s=>s.reduce((h,{type:p})=>h+(p==="title"?50:p==="heading"?20:p==="custom"?10:1),0),ye=(s,h)=>{var p;const a={};for(const[c,l]of Object.entries(h)){const i=((p=h[c.replace(/\/[^\\]*$/,"")])==null?void 0:p.title)||"",v=`${i?`${i} > `:""}${l.title}`,y=V(l.title,s);y&&(a[v]=[...a[v]||[],{type:"title",path:c,display:y}]),l.customFields&&Object.entries(l.customFields).forEach(([t,d])=>{d.forEach(o=>{const n=V(o,s);n&&(a[v]=[...a[v]||[],{type:"custom",path:c,index:t,display:n}])})});for(const t of l.contents){const d=V(t.header,s);d&&(a[v]=[...a[v]||[],{type:"heading",path:c+(t.slug?`#${t.slug}`:""),display:d}]);for(const o of t.contents){const n=V(o,s);n&&(a[v]=[...a[v]||[],{type:"content",header:t.header,path:c+(t.slug?`#${t.slug}`:""),display:n}])}}}return Object.keys(a).sort((c,l)=>x(a[c])-x(a[l])).map(c=>({title:c,contents:a[c]}))},me=s=>{const h=P(),p=g([]),a=G(()=>de.value[h.value]),c=D(l=>{p.value=l?ye(l,a.value):[]},re);return le([s,h],()=>{c(s.value)}),p};var ge=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:s=>!0},setup(s,{emit:h}){const p=_(),a=ee(),c=P(),l=E(ie),{history:i,addHistory:v,removeHistory:y}=pe(),t=te(s,"query"),d=me(t),o=g(0),n=g(0),I=g(),B=G(()=>d.value.length>0),F=G(()=>d.value[o.value]||null),Y=()=>{o.value=o.value>0?o.value-1:d.value.length-1,n.value=F.value.contents.length-1},J=()=>{o.value=o.value<d.value.length-1?o.value+1:0,n.value=0},Q=()=>{n.value<F.value.contents.length-1?n.value=n.value+1:J()},T=()=>{n.value>0?n.value=n.value-1:Y()},K=u=>u.map(r=>ce(r)?r:e(r[0],r[1])),H=u=>{if(u.type==="custom"){const r=ue[u.index]||"$content",[C,R=""]=oe(r)?r[c.value].split("$content"):r.split("$content");return K([C,...u.display,R])}return K(u.display)},O=()=>{o.value=0,n.value=0,h("updateQuery",""),h("close")};return se(()=>{Z("keydown",u=>{if(B.value){if(u.key==="ArrowUp")T();else if(u.key==="ArrowDown")Q();else if(u.key==="Enter"){const r=F.value.contents[n.value];a.path!==r.path&&(v(r),p.push(r.path),O())}}}),X(I.value,{reserveScrollBarGap:!0})}),ae(()=>{z()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?i.value.length===0:!B.value}],ref:I},t.value===""?i.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},l.value.history),i.value.map((u,r)=>e(M,{to:u.path,class:["search-pro-result-item",{active:n.value===r}],onClick:()=>{console.log("click"),O()}},()=>[e(N,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[u.type==="content"&&u.header?e("div",{class:"content-header"},u.header):null,e("div",H(u))]),e("button",{class:"search-pro-close-icon",onClick:C=>{C.preventDefault(),C.stopPropagation(),y(r)}},e(q))]))])):l.value.emptyHistory:B.value?e("ul",{class:"search-pro-result-list"},d.value.map(({title:u,contents:r},C)=>{const R=o.value===C;return e("li",{class:["search-pro-result-list-item",{active:R}]},[e("div",{class:"search-pro-result-title"},u||"Documentation"),r.map((m,b)=>{const k=R&&n.value===b;return e(M,{to:m.path,class:["search-pro-result-item",{active:k,"aria-selected":k}],onClick:()=>{v(m),O()}},()=>[m.type==="content"?null:e(m.type==="title"?A:m.type==="heading"?w:W,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[m.type==="content"&&m.header?e("div",{class:"content-header"},m.header):null,e("div",H(m))])])})])})):l.value.emptyResult)}});export{ge as default};
